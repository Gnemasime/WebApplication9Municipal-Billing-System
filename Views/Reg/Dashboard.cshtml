
@{
    ViewBag.Title = "Dashboard";
}

    <!-- Main Content -->
    <div class="container-fluid">
        <div class="profile-container">
            
            <h2>Dashboard</h2>
 
        <div class="row">
            <div class="col-md-4">
                <div class="card text-center">
                    <div class="card-body">
                        <h5 class="card-title">Total Users</h5>
                        <p class="card-text display-4">@ViewBag.TotalUsers</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card text-center">
                    <div class="card-body">
                        <h5 class="card-title">Active Bills</h5>
                        <p class="card-text display-4">@ViewBag.ActiveEBills</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card text-center">
                    <div class="card-body">
                        <h5 class="card-title">Total Revenue</h5>
                        <p class="card-text display-4">R @String.Format("{0:N2}", ViewBag.waterTotal)</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="charts">
            <div class="row mt-5">
                <div class="col-md-6 text-center">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Water vs Electricity Bills</h5>
                            <canvas id="billsChart" width="400" height="400"></canvas>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 text-center">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Paid, Overdue, and Unpaid Bills</h5>
                            <canvas id="billStatusChart" width="400" height="400"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
 

            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
var waterTotal = @ViewBag.WaterTotal;
var electricityTotal = @ViewBag.ElectricityTotal;

var ctxPie = document.getElementById('billsChart').getContext('2d');
var myPieChart = new Chart(ctxPie, {
    type: 'pie',
    data: {
        labels: ['Water Bills', 'Electricity Bills'],
        datasets: [{
            data: [waterTotal, electricityTotal],
            backgroundColor: ['#00c6ff', '#ffcc00']
        }]
    }
});

var paidBills = @ViewBag.PaidBills;
var unpaidBills = @ViewBag.UnpaidBills;
var overdueBills = @ViewBag.OverdueBills;

var ctxLine = document.getElementById('billStatusChart').getContext('2d');
var myLineChart = new Chart(ctxLine, {
    type: 'line',
    data: {
        labels: ['Paid Bills', 'Unpaid Bills', 'Overdue Bills'],
        datasets: [{
            label: 'Bill Status',
            data: [paidBills, unpaidBills, overdueBills],
            backgroundColor: 'rgba(0, 198, 255, 0.2)',
            borderColor: 'rgba(0, 198, 255, 1)',
            borderWidth: 2,
            fill: true
        }]
    }
});
</script>

            
        </div>
    </div>







